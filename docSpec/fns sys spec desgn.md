

金融系统架构规范大纲

包含(账户 ，余额，流水)的系统就是强金融系统。。
核心业务往往包括，扣款，转账等强事务业务。。


# 编程语言选择： 应该使用强类型语言，并有nullsafe更好
第一梯队，带nullsafe 语言  ，kotlin dart ts
第二梯队 java c# 
第三  go   业务表现能力低，繁琐啰嗦
php python  js  不建议，弱类型



# 重要，隔离级别必须选择序列化模式。。金融不适合使用read commited

# 数据库  只能sql数据库，不能nosql

推荐 oracle mssql  postgre
同样平台下，mssql 性能要比postgre多出50%

不推荐mysql 事务能力弱，性能底下
不要使用外部cache redis，容易出问题，只是使用数据库内部cache


# 服务器硬件配置
中小企业  32c128g可以了，万把块人民币每月。。

支持个一万tps差不多了 
事务性能的提升主要依赖于堆cpu  ，内存相对影响小

要想继续提升性能，增加cpu 。。。64c的cpu可以达到默认三万的tps



# 架构技术的提升

多余额分片架构
预查模式
悲观锁，乐观锁 （不能只依赖锁，数据库隔离级别必须是序列化隔离级别）
开发人员加锁，可能加了错误锁，或者忘记疏忽，，开发曾枷锁只是为了提升性能。。


# 读写分离  集群  尽可能不要搞分库

单台服务器+集群基本可以满足全球金融交易。。
visa网络tps也就三俩千，可以满足全球金融交易
