
@SecondaryTable	✅ 特定场景	✅ 可更新	两表数据聚合成一个实体
 
@ManyToOne + 访问字段	⚠️ 重	✅	会加载整个实体，适合复杂导航查询
自己循环，单表join






🔚 总结
方法	是否推荐	是否支持更新	特点
@Formula	✅ 推荐	❌ 只读	不引入额外实体，仅查询字段
@SecondaryTable	✅ 特定场景	✅ 可更新	两表数据聚合成一个实体
DTO 映射	✅ 推荐	✅ 可控	面向业务层数据结构
@ManyToOne + 访问字段	⚠️ 重	✅	会加载整个实体，适合复杂导航查询



方法四：用 @SqlResultSetMapping 或 JPQL DTO 查询（适合只读）
用于 DTO 投影（适合 List 查询场景）：

java
Copy
Edit
@Query("SELECT new com.dto.UserDto(u.id, u.username, r.name) FROM User u JOIN Role r ON u.roleId = r.id")
List<UserDto> findWithRoleName(