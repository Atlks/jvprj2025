


1ï¸âƒ£ å…³é”®æ¥å£
å¦‚æœä½ è¦å®ç°åŸºäº IdentityStore çš„èº«ä»½è®¤è¯ï¼Œè¿˜éœ€è¦ä»¥ä¸‹æ¥å£ï¼š

âœ… (1) HttpAuthenticationMechanism
ç”¨äºå¤„ç† HTTP è¯·æ±‚ä¸­çš„èº«ä»½éªŒè¯ä¿¡æ¯ï¼ˆå¦‚ Basic Authã€JWTã€Cookie ç­‰ï¼‰ã€‚
ä½ éœ€è¦å®ç°è¯¥æ¥å£ï¼Œè®© IdentityStoreHandler è°ƒç”¨ IdentityStore è¿›è¡Œå®é™…éªŒè¯ã€‚



è¿”å› AuthenticationStatusï¼Œé€šçŸ¥å®¹å™¨æ˜¯å¦éªŒè¯é€šè¿‡ã€‚
zhege æœ€å¥½æ˜¯æ­£å¸¸å°±æ˜¯é€šè¿‡ï¼Œï¼Œå¦‚æœé”™è¯¯throw exé€šçŸ¥å®¹å™¨ä¸é€šè¿‡



é‚£  SecurityContextã€‚authenticate()åšä»€ä¹ˆç”¨çš„ï¼Œæœ‰çš„èµ„æ–™è¯´éœ€è¦è¿™ä¸ªæ¥å£
ChatGPT è¯´ï¼š
SecurityContext.authenticate() çš„ä½œç”¨
SecurityContext.authenticate() ä¸»è¦ç”¨äº æ‰‹åŠ¨è§¦å‘èº«ä»½éªŒè¯ï¼Œé€šå¸¸ç”¨äºï¼š

å‰ç«¯ç™»å½•è¡¨å•æäº¤ï¼ˆæ‰‹åŠ¨è§¦å‘è®¤è¯ï¼‰
æ— è‡ªåŠ¨è®¤è¯çš„ API è®¤è¯è¯·æ±‚
è‡ªå®šä¹‰èº«ä»½éªŒè¯é€»è¾‘ï¼ˆæ¯”å¦‚åˆ‡æ¢ç”¨æˆ·æˆ–åŠ¨æ€è°ƒæ•´æƒé™ï¼‰
åœ¨ Java EE / Jakarta EE Security API ä¸­ï¼ŒSecurityContext.authenticate() çš„ä½œç”¨ ç±»ä¼¼äº HttpAuthenticationMechanism.validateRequest()ï¼Œå®ƒä¼šï¼š

è°ƒç”¨å·²æ³¨å†Œçš„ HttpAuthenticationMechanism
è§¦å‘ IdentityStore è¿›è¡Œè®¤è¯
è¿”å› AuthenticationStatus




âœ… ä»€ä¹ˆæ—¶å€™éœ€è¦ SecurityContext.authenticate()
è‡ªåŠ¨èº«ä»½éªŒè¯ï¼ˆä¾‹å¦‚ JWTã€Sessionï¼‰ ğŸ‘‰ ä¸éœ€è¦ï¼ŒHttpAuthenticationMechanism ä¼šè‡ªåŠ¨å¤„ç†
å‰ç«¯è¡¨å•æäº¤ï¼ˆPOST æ–¹å¼ç™»å½•ï¼‰ ğŸ‘‰ éœ€è¦ï¼Œæ‰‹åŠ¨è°ƒç”¨ SecurityContext.authenticate()
API è®¤è¯è¯·æ±‚ï¼ˆæ‰‹åŠ¨è§¦å‘èº«ä»½éªŒè¯ï¼‰ ğŸ‘‰ éœ€è¦



âœ… ä¸éœ€è¦ SecurityContext.authenticate()ï¼Œå› ä¸º LoginHdr æœ¬èº«å·²ç»æ˜¯ HttpAuthenticationMechanismï¼Œç›´æ¥å®ç° validateRequest() å³å¯ã€‚