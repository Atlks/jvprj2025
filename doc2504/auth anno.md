这两个注解虽然都与 Java 安全访问控制（Java EE / Jakarta EE） 相关，但它们的作用和使用阶段不同，下面来详细对比说明：
📝 你可能还会看到的相关注解：

注解	说明
@PermitAll	所有人都可以访问
@DenyAll	所有人都不允许访问（禁用方法）
@RolesAllowed	仅限指定角色访问

🆚 总结对比

特性	@DeclareRoles	@RolesAllowed
主要作用	声明当前类中使用了哪些角色	限制哪些角色可以访问某个类或方法
是否限制权限	❌ 不限制，只声明	✅ 真正限制访问
常见位置	类上	类或方法上
是否必须	❌ 可选，主要是为了部署工具和容器清晰	✅ 必须用于权限控制时
生效时机	应用启动、部署时	用户访问时
与容器的关系	通知容器角色存在	容器基于角色决定是否允许访问