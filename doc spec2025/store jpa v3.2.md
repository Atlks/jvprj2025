

jakarta.persistence-api ç‰ˆæœ¬2 ç‰ˆæœ¬3 ä»¥åŠ3.1 3.2çš„æ–°ç‰¹æ€§
Jakarta Persistence APIï¼ˆå‰èº«ä¸º JPAï¼‰åœ¨ä¸åŒç‰ˆæœ¬ä¸­å¼•å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œæå‡äº†å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰çš„èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯å„ç‰ˆæœ¬çš„ä¸»è¦æ›´æ–°ï¼š

Jakarta Persistence 2.x
ä»ç„¶å±äº Java EE ç”Ÿæ€ç³»ç»Ÿï¼Œæœªè¿ç§»è‡³ Jakarta EEã€‚

å¢å¼ºçš„ @Converter æœºåˆ¶ï¼šæ”¯æŒæ›´çµæ´»çš„æ•°æ®è½¬æ¢ã€‚

æ”¹è¿›çš„ Criteria APIï¼šæä¾›æ›´å¼ºçš„ç±»å‹å®‰å…¨æŸ¥è¯¢èƒ½åŠ›ã€‚

æ”¯æŒ StoredProcedureQueryï¼šå…è®¸è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ã€‚

Jakarta Persistence 3.0
è¿ç§»è‡³ Jakarta EEï¼šjavax.persistence å‘½åç©ºé—´æ›´æ”¹ä¸º jakarta.persistenceã€‚

ç§»é™¤ EntityManagerFactory çš„ Persistence.createEntityManagerFactory(String, Map) æ–¹æ³•ã€‚

å¢å¼º Criteria APIï¼šæ”¯æŒæ›´å¤æ‚çš„æŸ¥è¯¢è¡¨è¾¾å¼ã€‚

æ”¹è¿› JPQL è¯­æ³•ï¼šå¢åŠ  GROUP BY å’Œ HAVING è¯­å¥çš„ä¼˜åŒ–ã€‚

Jakarta Persistence 3.1
æ”¯æŒ java.time.Instant å’Œ java.time.Yearï¼šæ”¹è¿›æ—¶é—´ç±»å‹æ˜ å°„ã€‚

å¢å¼º JPQLï¼šæ–°å¢ UNIONã€INTERSECTã€EXCEPT æ“ä½œç¬¦ã€‚

æ”¹è¿› Criteria APIï¼šæ”¯æŒ CASTã€LEFT JOINã€RIGHT JOINã€‚

æ–°å¢ getSingleResultOrNull() æ–¹æ³•ï¼šé¿å… NoResultExceptionã€‚

Jakarta Persistence 3.2
æ–°å¢ PersistenceConfiguration APIï¼šæ”¯æŒ ç¼–ç¨‹å¼ é…ç½® EntityManagerFactoryï¼Œæ— éœ€ persistence.xmlã€‚

å¼•å…¥ SchemaManager APIï¼šæ”¯æŒ åˆ›å»ºã€åˆ é™¤ã€éªŒè¯ã€æ¸…ç©º æ•°æ®åº“è¡¨ã€‚

å¢å¼ºäº‹åŠ¡ç®¡ç†ï¼šæ–°å¢ runInTransaction() å’Œ callInTransaction() æ–¹æ³•ã€‚

æ”¹è¿› JPQLï¼šæ”¯æŒ || ä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œç¬¦ã€‚

æ”¯æŒ TypedQueryReferenceï¼šå¢å¼º å‘½åæŸ¥è¯¢ çš„ç±»å‹å®‰å…¨æ€§ã€‚

è¿™äº›æ–°ç‰¹æ€§ä½¿ Jakarta Persistence æ›´åŠ çµæ´»ã€é«˜æ•ˆï¼Œç‰¹åˆ«æ˜¯åœ¨ äº‹åŠ¡ç®¡ç† å’Œ æŸ¥è¯¢ä¼˜åŒ– æ–¹é¢ã€‚å¦‚æœä½ å¯¹æŸä¸ªç‰¹æ€§æ„Ÿå…´è¶£ï¼Œæˆ‘å¯ä»¥æä¾›æ›´è¯¦ç»†çš„ç¤ºä¾‹ä»£ç ï¼ğŸš€