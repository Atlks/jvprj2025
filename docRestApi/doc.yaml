openapi: 3.0.0
info:
  title: ç”¨æˆ·ç«¯ API
  version: v250515.666.888
  description: |
    è¿™æ˜¯ä¸€ä¸ªç”¨äºç³»ç»Ÿçš„ APIã€‚é€šè¿‡è¯¥ APIï¼Œå¯ä»¥ä½œä¸ºå¼€å‘ã€‚
    è¯¥æ–‡æ¡£æä¾›äº†æ‰€æœ‰å¯ç”¨æ¥å£çš„è¯¦ç»†è¯´æ˜ã€‚
    ç”¨æˆ·è§„èŒƒå‚ç…§äº†oauth/openidï¼Œå¯†ç æ–¹é¢è§„å‚ç…§ OWASP ï¼Œé‡‘èè´¦æˆ·ä¸äº¤æ˜“è§„èŒƒå‚ç…§open banking/obie v3æ ‡å‡†ï¼Œä»£ç†æ–¹é¢ä¸ºè‡ªå®šæ¨¡å¼
    

  contact:
    name: dddddomas
    email: support@example.com
servers:
  - url: http://localhost:8889
    description: æœ¬åœ°ç¯å¢ƒ
  - url: http://18.136.123.232:8889
    description: æµ‹è¯•ç¯å¢ƒ

  - url: http://localhost:8888
    description: ç”Ÿäº§ç¯å¢ƒ

tags:

  - name: user
    description: ç”¨æˆ·æ–¹é¢æ¥å£
  - name: secury
    description: è´¦æˆ·å®‰å…¨æ–¹é¢æ¥å£
  - name: Account
    description: é’±åŒ…æ–¹é¢æ¥å£

  - name: coin
    description: åŠ å¯†è´§å¸å¤–æ±‡è´µé‡‘å±æ–¹é¢æ¥å£
  - name: AccountInvst
    description: ç›ˆåˆ©é’±åŒ…æ–¹é¢æ¥å£
  - name : wthdr
    description: å–ç°æ–¹é¢æ¥å£
  - name: agt
    description: ä»£ç†æ–¹é¢æ¥å£
  - name: trans_recharge
    description: å……å€¼æ”¯ä»˜æ–¹é¢æ¥å£
  - name: common
    description: åŸºç¡€æ¥å£
  - name: cms
    description: ä½£é‡‘æ–¹é¢æ¥å£
  - name: cfg
    description: è·å–é…ç½®æ–¹é¢æ¥å£

  - name: admin
    description: ç®¡ç†ç«¯æ¥å£-ç®¡ç†å‘˜ç®¡ç†

  - name: rpt
    description: ç®¡ç†ç«¯æ¥å£-æŠ¥è¡¨ç®¡ç†
  - name: invstRcd
    description: ç®¡ç†ç«¯æ¥å£-æŠ•èµ„è®°å½•ç®¡ç†

  - name: role
    description: ç®¡ç†åå°â€”â€”è‡ªå®šä¹‰è§’è‰²
  - name: fdList
    description: èµ„é‡‘æ˜ç»†

components:
  parameters:
    unamexx:
      name: uname
      in: cookie
      required: true
      schema:
        type: string
        default: "007"
    ClientIdHeader:
      name:  AuthChkMode
      in: header
      required: false
      schema:
        type: string
        default: "jwt"
      description:  cookie or jwt

  securitySchemes:
    JwtAuth88:
      type: http
      scheme: bearer
      bearerFormat: JWT  # è¯´æ˜ä½¿ç”¨ JWT ä½œä¸º token æ ¼å¼
    cookieAuth:
      type: http
      scheme: cookie
      in: cookie
      name: uname

security:
  - JwtAuth88: []  # å…¨å±€åº”ç”¨ JWT è®¤è¯ ã€‚ã€‚

paths:
  /oth/LookLog:
    get:

      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /oth/ClrLogFileHdl:
    get:

      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /usr/QryNextLvMbrHdl:
    $ref: './paths/usr/QryNextLvMbrHdl.yaml'
  /usrStt/RankMmbrNAgtSttHdl:
    get:
      tags:
        - rpt
      summary: " æ•°æ®æŠ¥è¡¨ã€‹æ’è¡Œæ¦œ ï¼ˆç”¨æˆ·ç»Ÿè®¡ï¼‰"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'


  /wlt/ListTrsxBnsHdl:
    $ref: './paths/wlt/ListTrsxBnsHdl.yml'
  /wlt/findBalanceOverviewHdl:
    $ref: './paths/wlt/findBalanceOverviewHdl.yml'
  /wlt/Trans:
    $ref: './paths/acc/trans.yml'
  /admin/wthdr/ReviewWthdrReqOrdRejectHdr:
    $ref: './paths/wthdr/ReviewWthdrReqOrdRejectHdr.yaml'
  /api/token:
    $ref: './paths/usr/token.yaml'
  /api/userinfo:
    $ref: './paths/usr/me.yaml'
  /wthdr/WthdReqHdl:
    $ref: './paths/ylwlt/WthdReqHdl.yaml'
  /wthdr/WthdrawReviewQryHdl:
    $ref: './paths/ylwlt/WthdrawReviewQryHdl.yaml'
  /admin/wlt/ReviewWthdrReqOrdPassHdr:
    $ref: './paths/wthdr/ReviewWthdrReqOrdPassHdr.yaml'
  /admin/InvstRcd/AddInvstRcdHdl:
    $ref: './paths/InvstRcd/AddInvstRcdHdl.yaml'
  /admin/InvstRcd/QryInvstRcdHdl:
    $ref: './paths/InvstRcd/QryInvstRcdHdl.yaml'
  /pay/recharge:
    $ref: './paths/pay/recharge.yml'
  /cfg/IniDataHdl:
    $ref: './paths/cfg/IniDataHdl.yaml'
  /cfg/GetCfg?k=DataSummary:
    $ref: './paths/cfg/GetCfgDataSummary.yaml'
  /cfg/GetCfg?k=MbrVipCfg:
    $ref: './paths/cfg/GetMbrVipCfg.yaml'
  /cfg/GetCfg?k=CmsLvCfg:
    $ref: './paths/cfg/GetCmsLvCfg.yaml'
  /agt/QryAgtHdl:
    $ref: './paths/agt/QryAgtHdl.yaml'
  /agt/listSubHdl:
    $ref: './paths/agt/listSubHdl.yaml'
  /agt/listSupHdl:
    get:
      tags:
        - agt
      summary: " æŸ¥è¯¢ä»£ç†ä¸Šçº§"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /role/FindRoleHdl:
    get:
      tags:
        - role
      summary: " "
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /role/DelRoleHdl:
    get:
      tags:
        - role
      summary: " "
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /db/QryHdl:
    get:

      summary: " "
      parameters:
        - name: sql
          in: query
          description: ""
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /db/UpdtHdl:
    get:

      summary: " "
      parameters:
        - name: sql
          in: query
          description: ""
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /admin/InvstRcd/QryIvstTopOvrvw:
    get:
      tags:
        - invstRcd
      summary: "æŠ•èµ„è®°å½•ç•Œé¢ä¸Šé¢çš„ç»Ÿè®¡éƒ¨åˆ†"

      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /wlt/QryFundDetailHdl:
    get:
      tags:
        - fdList
      summary: "èµ„é‡‘æ˜ç»† ç”¨æˆ·ç«¯"

      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /rpt/DataSummray:
    get:
      tags:
        - rpt
      summary: "æ•°æ®æŠ¥è¡¨-æ•°æ®æ€»è§ˆ
  "

      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /cms/WthdrCmsHdl:
    get:
      tags:
        - cms
      summary: "æå–ä½£é‡‘"
      parameters:
        - name: uname
          in: query
          required: false
          schema:
            type: string
          description:
          example: "666"
        - name: amt
          in: query
          required: true
          schema:
            type: int
          description:
          example: 100
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /agt/listMyMmbr:
    get:
      tags:
        - agt
      summary: "åˆ—å‡ºæœ¬äººä¸‹çº§ä¼šå‘˜"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /agt/MyAgtInfo:
    get:
      tags:
        - agt
      summary: "æŸ¥è¯¢æœ¬äººä¿¡æ¯ä½œä¸ºä»£ç†"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'


  /admin/QryFundDetailHdl:
    get:
      tags:
        - fdList
      summary: "èµ„é‡‘æ˜ç»† ç®¡ç†ç«¯"
      parameters:
        - name: uname
          in: query
          required: false
          schema:
            type: string
          description:
          example: "666"
        - name: day
          in: query
          required: false
          schema:
            type: int
          description:
          example: 300
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'


  /admin/role/ListRolesHdl:
    $ref: './paths/role/ListRolesHdl.yaml'
  /admin/role/SaveRolesHdl:
    $ref: './paths/role/SaveRolesHdl.yaml'
  /wlt/QryWltHdl:
    $ref: './paths/wlt/QryWltHdl.yaml'
  /wlt/MeWlt:
    $ref: './paths/wlt/MeWlt.yaml'

  /admin/cfg/SetCfgKv:
    $ref: './paths/cfg/SetCfgKv.yaml'
  /cfg/GetCfg:
    $ref: './paths/cfg/GetCfg.yaml'
  /wlt/ListInsFdPoolLogHdl:
    $ref: './paths/wlt/ListInsFdPoolLogHdl.yaml'
  /wlt/ListInvtCmsLogHdl:
    $ref: './paths/wlt/ListInvtCmsLogHdl.yaml'
  /wlt/ListIvstProfitHdl:
    $ref: './paths/wlt/ListIvstProfitHdl.yaml'

  /admin/wlt/QueryOrdChrgHdr:
    $ref: './paths/pay/QueryOrdChrgHdr.yaml'
  /admin/wlt/ReviewChrgPassHdr:
    $ref: './paths/pay/ReviewChrgPassHdr.yaml'
  /admin/wlt/ReviewChrgRefuseHdr:
    $ref: './paths/pay/ReviewChrgRefuseHdr.yaml'
  /reg:
    $ref: './paths/usr/reg.yaml'
  /login:
    $ref: './paths/usr/login.yaml'
  /users/me:
    $ref: './paths/usr/me.yaml'
  /user/ModifyPwdHdr:
    $ref: './paths/usr/ModifyPwdHdr.yaml'
  /cfg/GetRechargeConfigHdlr:
    $ref: './paths/cfg/GetRechargeConfigHdlr.yaml'

  /admin/cfg/SetRechargeConfigHdlr:
    $ref: './paths/cfg/SetRechargeConfigHdlr.yaml'


  /admin/AddAdminHdr:
    $ref: './paths/admin/adm/add.yaml'
  /admin/ListAdmHdr:
    $ref: './paths/admin/adm/list.yaml'
  /admin/adm/del:
    $ref: './paths/admin/adm/del.yaml'
  /admin/login:
    $ref: './paths/admin/adm/login.yaml'
  /admin/adm/logout:
    $ref: './paths/admin/adm/logout.yaml'
  /uploads:
    $ref: './paths/common/upld.yaml'
  /res/uploads:
    $ref: './paths/common/getimg.yaml'

  /user/SetWthdrPwd:
    $ref: './paths/usr/SetWthdrPwdHdr.yaml'

  /user/IsSetWthdrPwdHdr:
    $ref: './paths/usr/IsSetWthdrPwdHdr.yaml'
#  /FgtPwdRstPwdHdr:
 #   $ref: './paths/FgtPwdRstPwdHdr.yaml'
 # /FgtPwdGetQuestionByUnameHdr:
 #   $ref: './paths/FgtPwdGetQuestionByUnameHdr.yaml'
  /user/SetEmlHdl:
    $ref: './paths/usr/SetEmlHdl.yaml'


#  /user/setScrQstn:
#    $ref: './paths/usrSecury/setScrQstn.yaml'
  /invstAcc/me:
    get:
      tags:
        - AccountInvst
      summary: æŸ¥è¯¢æŠ•èµ„ç›ˆåˆ©è´¦æˆ·
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'

  /admin/qryUsr:
    get:
      tags:
        - user
      summary: æŸ¥è¯¢ç”¨æˆ·
      description: æ ¹æ®ç”¨æˆ·ååˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ã€‚
      parameters:
        - name: uname4qry
          in: query
          required: false
          schema:
            type: string
          description: ç”¨æˆ·åï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: å½“å‰é¡µç 
        - name: pagesize
          in: query
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 1000
          description: æ¯é¡µæ•°é‡
      responses:
        '200':
          description: è¿”å›ç”¨æˆ·åˆ—è¡¨
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 0
                    description: è¿”å›ç ï¼Œ0 è¡¨ç¤ºæˆåŠŸ
                  msg:
                    type: string
                    example: OK
                  total:
                    type: integer
                    description: ç”¨æˆ·æ€»æ•°
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "1001"
                        username:
                          type: string
                          example: "008"
                        email:
                          type: string
                          example: "008@example.com"
                        status:
                          type: string
                          example: "active"
  /post2:
    post:
      summary: æäº¤å‚æ•° a å’Œ b
      description: æ¥æ”¶ `a` å’Œ `b` ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å¤„ç†ç»“æœ
      operationId: post2
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                a:
                  type: integer
                  example: 1
                b:
                  type: integer
                  example: 2
      responses:
        "200":
          description: æˆåŠŸè¿”å›ç»“æœ
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "å¤„ç†æˆåŠŸ"
                  result:
                    type: integer
                    example: 3

  /coin/frnXchg:
    get:
      tags:
        - coin
      summary: "å¤–æ±‡æ’è¡Œæ¦œ"
      responses:
        "200":
          description: ""
          content:
            text/plain:
              schema:
                type: string
  /coin/goldSilver:
    get:
      tags:
        - coin
      summary: "è´µé‡‘å±"
      responses:
        "200":
          description: ""
          content:
            text/plain:
              schema:
                type: string
  /coinRank:
    get:
      tags:
        - coin
      summary: "åŠ å¯†è´§å¸æ’è¡Œæ¦œ"
      responses:
        "200":
          description: ""
          content:
            text/plain:
              schema:
                type: string

  /ylwlt/changeLog:
    get:
      tags:
        - misc
      summary: "ç›ˆåˆ©é’±åŒ…è´¦å˜æµæ°´"
  /wlt/changeLog:
    get:
      tags:
        - Wallet
      summary: "é’±åŒ…è´¦å˜æµæ°´"

  /logout:
    get:
      tags:
        - user
      summary: "é€€å‡º"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'












  /admin/wlt/adjust:
    get:
      tags:
        - Account
      summary: "èµ„é‡‘è°ƒæ•´ é’±åŒ…"
      parameters:
        - name: accountSubType
          in: query
          required: true
          schema:
            type: string
            enum: [ EMoney, GeneralInvestment ]
          description: |
            é¢åº¦ç±»å‹è´¦æˆ·ï¼ˆå¦‚ï¼šæœ¬é‡‘ã€å¥–åŠ±é‡‘ç­‰ï¼‰
            - EMoney: æœ¬é‡‘é’±åŒ…
            - GeneralInvestment: æŠ•èµ„è´¦æˆ·ç›ˆåˆ©é’±åŒ…
          example: EMoney

        - name: transactionCode
          in: query
          required: true
          schema:
            type: string
            enum: [ adjst_crdt, adjst_dbt, adjst_frz, adjust_unfrz ]
          description: |
            è°ƒæ•´ç±»å‹ï¼ˆå¦‚ï¼šå¢åŠ ã€å‡å°‘ã€å†»ç»“ã€è§£å†»ï¼‰
            - adjst_crdt: åŠ æ¬¾
            - adjst_dbt: æ‰£æ¬¾
            - adjst_frz: å†»ç»“
            - adjust_unfrz: è§£å†»
          example: adjst_crdt

        - name: uname
          in: query
          required: true
          schema:
            type: string
          description: ä¼šå‘˜è´¦å·ï¼ˆç”¨æˆ·å”¯ä¸€æ ‡è¯†ï¼‰
          example: 666

        - name: adjustAmount
          in: query
          required: true
          schema:
            type: number
            format: double
          description: è°ƒæ•´é‡‘é¢ï¼ˆå•ä½ï¼šå…ƒï¼‰
          example: 100.00

        - name: remark
          in: query
          required: false
          schema:
            type: string
          description: è°ƒæ•´å¤‡æ³¨
          example: æ‰‹åŠ¨è°ƒè´¦ - å¥–åŠ±æ´»åŠ¨
      responses:
        '200':
          description: æˆåŠŸå“åº”

  /password/reset/request:
    get:
      tags:
        - secury
      summary: è¯·æ±‚é‡ç½®ç™»å½•å¯†ç -è·å–é—®é¢˜ security question by username
      security: []  # ğŸ‘ˆ ç¦ç”¨è®¤è¯æœºåˆ¶ï¼ˆä¸æ˜¾ç¤ºé”å›¾æ ‡ï¼‰
      description:
      parameters:
        - name: username
          in: query
          required: true
          description: Username of the user requesting the security question
          schema:
            type: string
      responses:
        '200':
          description: Security question returned
          content:
            application/json:
              schema:
                type: object
                properties:
                  question:
                    type: string
                    example: What is your first pet's name?
        '404':
          description: User not found

  /password/reset/confirm:
    post:
      tags:
        - secury
      summary: é‡ç½®ç™»å½•å¯†ç byå®‰å…¨é—®é¢˜
      security: []  # ğŸ‘ˆ ç¦ç”¨è®¤è¯æœºåˆ¶ï¼ˆä¸æ˜¾ç¤ºé”å›¾æ ‡ï¼‰
      description:
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                username:
                  type: string
                answer:
                  type: string
                newPassword:
                  type: string
                confirmPassword:
                  type: string
              required:
                - username
                - answer
                - newPassword
                - confirmPassword
      responses:
        '200':
          description: Password successfully reset
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Password has been reset successfully
        '400':
          description: Invalid answer or password mismatch
        '404':
          description: User not found

  /api/security-question/setup:
    post:
      tags:
        - secury
      summary: è®¾ç½®å®‰å…¨é—®é¢˜ä¸ç­”æ¡ˆ
      description:
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                userId:
                  type: string
                question:
                  type: string
                answer:
                  type: string
              required:
                - userId
                - question
                - answer
      responses:
        '200':
          description: Question setup successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Security question saved
  /ylwlt/adjust:
    get:
      tags:
        - misc
      summary: " "
      parameters:
        - name: adjustType
          in: query
          required: true
          description: "è°ƒæ•´ç±»å‹ å¢åŠ +  å‡å»-"
          schema:
            type: string
            example: "+"

        - name: changeAmount
          in: query
          required: true
          description: "æ”¹æ”¹çš„é‡‘é¢  "
          schema:
            type: string
            example: "1"
      responses:
        '200':
          description: æˆåŠŸå“åº”
  /myWltAdrs/ListWltAddrHdl:
    get:
      tags:
        - wltAddr
      summary: "å®¡æ ¸è¯»å–é’±åŒ…åœ°å€"
      description: ""


      responses:
        "200":
          $ref: '../../components/responses/CommonResponse.yaml'
  /myWltAdrs/ReviewWltAdrsHdl:
    get:
      tags:
        - wltAddr
      summary: "å®¡æ ¸é’±åŒ…åœ°å€ é€šè¿‡æˆ–æ‹’ç»"
      description: ""
      parameters:
        - name: id
          in: query
          required: true
          schema:
            type: string
          description: IDï¼Œä¸èƒ½ä¸ºç©º
          example: "666"
        - name: stat
          in: query
          required: true
          schema:
            type: string
            enum: [ Completed, Pending, CANCELLED, REJECTED, OTH ]
            description: |-
              çŠ¶æ€å­—æ®µï¼Œæ”¯æŒä»¥ä¸‹æšä¸¾å€¼ï¼š
              - `Completed`: å®¡æ ¸å·²å®Œæˆ
              - `Pending`: å¾…å®¡æ ¸
              - `CANCELLED`: å·²å–æ¶ˆ
              - `REJECTED`: å·²æ‹’ç»
              - `OTH`: å…¶ä»–
          example: "Completed"
      responses:
        "200":
          $ref: './components/responses/CommonResponse.yaml'
  /myWltAdrs/GetMyWltAddrHdl:
    $ref: './paths/usr/GeMyWltAddrHdl.yaml'
  /myWltAdrs/SetMyWltAddrHdl:
    $ref: './paths/usr/SeMyWltAddrHdl.yaml'

